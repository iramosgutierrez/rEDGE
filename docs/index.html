<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Evolutionarily Distinct and Globally Endangered calculator • rEDGE</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Evolutionarily Distinct and Globally Endangered calculator">
<meta name="description" content="Functions to calculate the EDGE metric, and more phylogenetically-based biodiversity indicators.">
<meta property="og:description" content="Functions to calculate the EDGE metric, and more phylogenetically-based biodiversity indicators.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rEDGE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/iramosgutierrez/rEDGE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="redge">rEDGE<a class="anchor" aria-label="anchor" href="#redge"></a>
</h1></div>
<p>Package to calculate EDGE scores and more phylogenetic-based indicators in R</p>
<p><img src="reference/figures/rEDGE_logo.png" width="140px" align="right"></p>
<p>Documentation of website under current development…</p>
<div class="section level2">
<h2 id="the-edge-index">The EDGE index<a class="anchor" aria-label="anchor" href="#the-edge-index"></a>
</h2>
<p>The EDGE index is a metric that aims to prioritize species’ conservation bsed on both theis phylogenetic singularity (i.e. ED, Evolutionaty Distinctiveness) and their extinction risk (GE, Globally Endangered). Based on this idea, several methods have been developed in order to calculate individual EDGE scores.</p>
<p>To illustrate the differences among methods ant their implementationn within <code>rEDGE</code> package, we will see some examples using monotremates (i.e. platypus and echidna species).</p>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="50%" alt="rEDGE logo"></p>
</div>
<div class="section level2">
<h2 id="edge1">EDGE1<a class="anchor" aria-label="anchor" href="#edge1"></a>
</h2>
<p>Index based on Isaac <em>et al.</em>, 2007. This first approach used evolutionary distinctiveness (ED) and a transformation of extinction risk (GE) in which each IUCN Red List category is twice as probable of becoming extinct. The EDGE score is calculated ussing the following formula:</p>
<p>EDGE = log(1+ED)+GE∗log(2)</p>
<p>To calculate this index for monotremates, we just have to use the <code>calculate_EDGE1</code> function specifying uot phylogenetic tree, and a table including all the tree’s species (in a clomn named <em>species</em>, and their respective IUCN category in a column named <em>RL.cat</em>). Note that all species must be included, so if there are species included on the tree and not evaluated, make sure to include them on the table wit a “NE” category.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="va">EDGE1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/calculate_EDGE1.html">calculate_EDGE1</a></span><span class="op">(</span>tree <span class="op">=</span> <span class="va">monotreme.tree</span>, </span>
<span>                         table <span class="op">=</span> <span class="va">monotreme.table</span>, </span>
<span>                         sort.list <span class="op">=</span> <span class="cn">T</span> <span class="co"># to get the list sorted by decreasing EDGE value</span></span>
<span>                         <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">EDGE1</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr>
<th align="left">species</th>
<th align="left">RL.cat</th>
<th align="right">ED</th>
<th align="right">EDGE</th>
</tr></thead>
<tbody>
<tr>
<td align="left">Zaglossus_attenboroughi</td>
<td align="left">CR</td>
<td align="right">14.23723</td>
<td align="right">5.496331</td>
</tr>
<tr>
<td align="left">Zaglossus_bruijnii</td>
<td align="left">CR</td>
<td align="right">14.23723</td>
<td align="right">5.496331</td>
</tr>
<tr>
<td align="left">Zaglossus_bartoni</td>
<td align="left">VU</td>
<td align="right">14.75253</td>
<td align="right">4.143296</td>
</tr>
<tr>
<td align="left">Ornithorhynchus_anatinus</td>
<td align="left">NT</td>
<td align="right">29.83242</td>
<td align="right">4.121714</td>
</tr>
<tr>
<td align="left">Tachyglossus_aculeatus</td>
<td align="left">LC</td>
<td align="right">18.04178</td>
<td align="right">2.946636</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="edge2">EDGE2<a class="anchor" aria-label="anchor" href="#edge2"></a>
</h2>
<p>In order to take into account the extinction probability of closely related taxa as well as uncertainty in the extinction probability of species, Gumbs <em>et al.</em>, 2023 designed a new methodology, termed EDGE2.</p>
<p>In this new approach, a probabilty of extinction is sampled from a continuous distribution based on the IUCN Red List category, and ED2 and EDGE” values can be calculated <strong>(<em>develop more thoroughly…</em>)</strong>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">EDGE2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/calculate_EDGE2.html">calculate_EDGE2</a></span><span class="op">(</span>tree <span class="op">=</span> <span class="va">monotreme.tree</span>, </span>
<span>                         table <span class="op">=</span> <span class="va">monotreme.table</span>, </span>
<span>                         sort.list <span class="op">=</span> <span class="cn">T</span>, <span class="co"># to get the list sorted by decreasing EDGE value</span></span>
<span>                         verbose <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">EDGE2</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="33%">
<col width="10%">
<col width="14%">
<col width="14%">
<col width="12%">
<col width="15%">
</colgroup>
<thead><tr>
<th align="left">species</th>
<th align="left">RL.cat</th>
<th align="right">TBL</th>
<th align="right">pext</th>
<th align="right">ED</th>
<th align="right">EDGE</th>
</tr></thead>
<tbody>
<tr>
<td align="left">Zaglossus_bruijnii</td>
<td align="left">CR</td>
<td align="right">8.147095</td>
<td align="right">0.9999000</td>
<td align="right">10.69954</td>
<td align="right">10.6984729</td>
</tr>
<tr>
<td align="left">Zaglossus_attenboroughi</td>
<td align="left">CR</td>
<td align="right">8.147095</td>
<td align="right">0.9905879</td>
<td align="right">10.72354</td>
<td align="right">10.6226066</td>
</tr>
<tr>
<td align="left">Ornithorhynchus_anatinus</td>
<td align="left">NT</td>
<td align="right">29.832422</td>
<td align="right">0.1496076</td>
<td align="right">29.83242</td>
<td align="right">4.4631576</td>
</tr>
<tr>
<td align="left">Zaglossus_bartoni</td>
<td align="left">VU</td>
<td align="right">9.177698</td>
<td align="right">0.2818624</td>
<td align="right">14.61081</td>
<td align="right">4.1182375</td>
</tr>
<tr>
<td align="left">Tachyglossus_aculeatus</td>
<td align="left">LC</td>
<td align="right">14.111567</td>
<td align="right">0.0350753</td>
<td align="right">18.50054</td>
<td align="right">0.6489122</td>
</tr>
</tbody>
</table>
<p>As this EDGE score is iteration dependant (i.e. there is a random factor in the sampling of extinction probabilty), a set of EDGE2 values can be calculated and averaged posteriorly. This multiple calculation is performed by <code>calculate_EDGE2_multiple</code> function, which allows to parallelize in order to speed computation times. In this example we are calculating EDGE scores 50 times and averaging the results after.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">EDGE2mult</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/calculate_EDGE2_multiple.html">calculate_EDGE2_multiple</a></span><span class="op">(</span>tree <span class="op">=</span> <span class="va">monotreme.tree</span>, </span>
<span>                                      table <span class="op">=</span> <span class="va">monotreme.table</span>, </span>
<span>                                      n.iter <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                                      parallelize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                      n.cores <span class="op">=</span> <span class="fl">10</span></span>
<span>                                      <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Seed has been set to: 39380337"</span></span>
<span></span>
<span></span>
<span><span class="co"># Now we summarise table results...</span></span>
<span><span class="va">EDGE2mult_summ</span> <span class="op">&lt;-</span> <span class="va">EDGE2mult</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">bind_rows</span><span class="op">(</span><span class="op">)</span>  <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">species</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>RL.cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">RL.cat</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            TBL  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">TBL</span> <span class="op">)</span>,</span>
<span>            pext <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">pext</span><span class="op">)</span>,</span>
<span>            ED   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">ED</span>  <span class="op">)</span>,</span>
<span>            EDGE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">EDGE</span><span class="op">)</span> <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">EDGE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">EDGE2mult_summ</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="10%">
<col width="14%">
<col width="14%">
<col width="12%">
<col width="14%">
</colgroup>
<thead><tr>
<th align="left">species</th>
<th align="left">RL.cat</th>
<th align="right">TBL</th>
<th align="right">pext</th>
<th align="right">ED</th>
<th align="right">EDGE</th>
</tr></thead>
<tbody>
<tr>
<td align="left">Zaglossus_bruijnii</td>
<td align="left">CR</td>
<td align="right">8.147095</td>
<td align="right">0.9240231</td>
<td align="right">10.34608</td>
<td align="right">9.5572687</td>
</tr>
<tr>
<td align="left">Zaglossus_attenboroughi</td>
<td align="left">CR</td>
<td align="right">8.147095</td>
<td align="right">0.9180105</td>
<td align="right">10.35906</td>
<td align="right">9.5082837</td>
</tr>
<tr>
<td align="left">Ornithorhynchus_anatinus</td>
<td align="left">NT</td>
<td align="right">29.832422</td>
<td align="right">0.1284080</td>
<td align="right">29.83242</td>
<td align="right">3.8307210</td>
</tr>
<tr>
<td align="left">Zaglossus_bartoni</td>
<td align="left">VU</td>
<td align="right">9.177698</td>
<td align="right">0.2408466</td>
<td align="right">14.02165</td>
<td align="right">3.3645653</td>
</tr>
<tr>
<td align="left">Tachyglossus_aculeatus</td>
<td align="left">LC</td>
<td align="right">14.111567</td>
<td align="right">0.0493775</td>
<td align="right">17.30895</td>
<td align="right">0.8474662</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/iramosgutierrez/rEDGE/">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rEDGE</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ignacio Ramos-Gutierrez <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-8675-0114" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Sebastian Pipins <br><small class="roles"> Author, copyright holder </small> <a href="https://orcid.org/0000-0001-9619-6957" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Felix Forest <br><small class="roles"> Author, copyright holder </small> <a href="https://orcid.org/0000-0002-2004-433X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Matilda Brown <br><small class="roles"> Author, copyright holder </small> <a href="https://orcid.org/0000-0003-2536-8365" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Steven Bachman <br><small class="roles"> Author, copyright holder </small> <a href="https://orcid.org/0000-0003-1085-6075" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Rikki Gumbs <br><small class="roles"> Author, copyright holder </small> <a href="https://orcid.org/0000-0003-4157-8549" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ignacio Ramos-Gutierrez, Sebastian Pipins, Felix Forest, Matilda Brown, Steven Bachman, Rikki Gumbs.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
